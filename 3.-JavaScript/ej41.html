<html>
  <body>
    <div id="container">
      <form>
        <div>
          <label>Title</label>
          <input type="text" id="todo-title" />
        </div>
        <div>
          <label>Completed</label>
          <input type="checkbox" id="todo-completed" />
        </div>

        <button type="submit" id="submit-todo">Submit</button>
      </form>
    </div>
  </body>
</html>

<script>
/* Using async and await, implement the necessary code to perform an HTTP POST request. 
To create a new post, use the following URL: https://jsonplaceholder.typicode.com/posts (Method: Post). 
The body of the request must contain a post object with the following information: title and Flag Completed. 
The post data must be transmitted following the compilation of a form. */

async function createNewPost(postData) {
  try {
    const response = await fetch('https://jsonplaceholder.typicode.com/posts', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(postData)
    });

    if (!response.ok) {
      throw new Error('Error al crear una nueva publicación.');
    }

    const newPost = await response.json();
    return newPost;
  } catch (error) {
    console.error('Error:', error.message);
    return null;
  }
}

async function main() {
  try {
    const postData = {
      title: inputTexto.value,
      completed: inputChecked.checked
    };

    const newPost = await createNewPost(postData);
    console.log('Nueva publicación creada:', newPost);
  } catch (error) {
    console.error('Error en la ejecución principal:', error.message);
  }
}

let inputTexto = document.getElementById("todo-title")
let inputChecked = document.getElementById("todo-completed")

inputChecked.addEventListener('change', function() {
  if (this.checked) {
    console.log("True");
  } else {
    console.log("False");
  }
});

main();
</script>